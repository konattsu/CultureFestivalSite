<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>白 | 数学部</title>
    <link rel="icon" href="./../../favicon.svg?ver=0.1.0" sizes="any" type="image/svg+xml" />
    <link rel="stylesheet" href="./../../assets/css/main.css?ver=0.1.0" class="css" />
    <link rel="stylesheet" href="./../../assets/css/header.css?ver=0.1.0" class="css" />
    <link rel="stylesheet" href="./../../assets/css/move_top.css?ver=0.1.0" class="css" />
    <link rel="stylesheet" href="./../../assets/css/md.css?ver=0.1.0" class="css" />
    <link rel="stylesheet" href="./../../assets/css/range_visibility.css?ver=0.1.0" class="css" />
    <link rel="stylesheet" href="./../../assets/css/white.css?ver=0.1.0" class="css" />
    <script src="./../../scripts/util/store_settings.js?ver=0.1.0"></script>
  </head>

  <!-- SVG置き場 begin -->
  <svg>
    <!-- HSV横から begin -->
    <symbol id="hsv-ls-svg-src" viewBox="0 0 100 100">
      <rect class="hsv-ls-svg-a" x="0" y="0" width="100" height="100" />
      <ellipse class="hsv-ls-svg-b" cx="50" cy="30" rx="40" ry="10" fill="none" stroke-width="2" />
      <polyline class="hsv-ls-svg-b" points="10,31 50,90 90,31" fill="none" stroke-width="2" stroke-linecap="round" />
      <line class="hsv-ls-svg-b" x1="50" y1="91" x2="95" y2="91" stroke-linecap="round" />
      <polygon class="hsv-ls-svg-c" points="95,91 93,89, 93,93" />
      <text class="hsv-ls-svg-d" x="90" y="87" font-family="sans-serif" font-size="10">S</text>
      <line class="hsv-ls-svg-b" x1="50" y1="91" x2="85" y2="65" stroke-linecap="round" />
      <text class="hsv-ls-svg-d" x="68" y="88" font-family="sans-serif" font-size="10">H</text>
      <polygon class="hsv-ls-svg-c" points="63,82 61.5,85 65.5,83" />
      <rect class="hsv-ls-svg-d" x="63.7" y="88" width="1" height="3" fill="#fff" />
      <line class="hsv-ls-svg-b" x1="63.5" y1="84" x2="64" y2="86.5" stroke-width="1" />
      <line class="hsv-ls-svg-b" x1="50" y1="91" x2="50" y2="10" stroke-width="1" stroke-linecap="round" />
      <polygon class="hsv-ls-svg-c" points="50,10 52,12 48,12" />
      <text class="hsv-ls-svg-d" x="38" y="15" font-family="sans-serif" font-size="10">V</text>
    </symbol>
    <!-- HSV横から end-->
    <!-- HSV真上から begin -->
    <symbol id="hsv-top-svg-src" viewBox="0 0 100 100">
      <defs>
        <radialGradient id="hsv-top-svg-white" cx="50%" cy="50%" r="30%">
          <stop offset="0%" style="stop-color: #fff; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #fff; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-red" cx="100%" cy="50%" r="70%">
          <stop offset="0%" style="stop-color: #f00; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #f55; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-yellow" cx="75%" cy="13%" r="70%">
          <stop offset="0%" style="stop-color: #ff0; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #ff5; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-green" cx="25%" cy="13%" r="70%">
          <stop offset="0%" style="stop-color: #0f0; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #5f5; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-light-blue" cx="0%" cy="50%" r="70%">
          <stop offset="0%" style="stop-color: #0ff; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #5ff; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-blue" cx="25%" cy="87%" r="70%">
          <stop offset="0%" style="stop-color: #00f; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #55f; stop-opacity: 0" />
        </radialGradient>
        <radialGradient id="hsv-top-svg-violet" cx="75%" cy="87%" r="70%">
          <stop offset="0%" style="stop-color: #f0f; stop-opacity: 1" />
          <stop offset="100%" style="stop-color: #f5f; stop-opacity: 0" />
        </radialGradient>
      </defs>
      <rect x="0" y="0" width="100" height="100" fill="none" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-red)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-yellow)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-green)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-light-blue)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-blue)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-violet)" opacity="1" />
      <circle cx="50%" cy="50%" r="50%" fill="url(#hsv-top-svg-white)" opacity="0.5" />
      <circle cx="50%" cy="50%" r="3" fill="#000" />
      <line x1="50" y1="50" x2="100" y2="50" stroke="#000" stroke-width="1" />
      <text x="40" y="60" font-family="sans-serif" font-size="10" fill="#000">V</text>
      <line x1="50" y1="50" x2="75.5" y2="7" stroke="#000" />
      <text x="60" y="45" font-family="sans-serif" font-size="10" fill="#000">H</text>
      <line x1="60" y1="50" x2="59" y2="47" stroke="#000" />
      <line x1="58" y1="45" x2="55" y2="42" stroke="#000" />
      <text x="60" y="15" font-family="sans-serif" font-size="10" fill="#000">S</text>
      <polygon points="75.5,7 73.5,7.6 76,9" stroke="#000" fill="#000" />
    </symbol>
    <!-- HSV真上から end -->
    <!-- HSV横から, 断面図 begin -->
    <symbol id="hsv-cs-svg-src" viewBox="0 0 100 100">
      <defs>
        <linearGradient id="white-lg-black" x1="0" x2="0" y1="0" y2="0.9">
          <stop offset="0%" stop-color="#fff" stop-opacity="0"></stop>
          <stop offset="100%" stop-color="#000"></stop>
        </linearGradient>
        <linearGradient id="white-lg-red" x1="0.8" x2="-0.5" y1="0.3" y2="-0.3">
          <stop offset="0%" stop-color="#f00"></stop>
          <stop offset="100%" stop-color="#fff" stop-opacity="0.3"></stop>
        </linearGradient>
        <linearGradient id="white-lg-black-2" x1="0" x2="0" y1="0" y2="0.9">
          <stop offset="0%" stop-color="#000" stop-opacity="0"></stop>
          <stop offset="100%" stop-color="#000"></stop>
        </linearGradient>
        <linearGradient id="white-lg-red-2" x1="0.8" x2="0" y1="0.3" y2="-0.5">
          <stop offset="0%" stop-color="#f00"></stop>
          <stop offset="100%" stop-color="#faa" stop-opacity="0"></stop>
        </linearGradient>
        <linearGradient id="white-lg-white" x1="0" x2="0.5" y1="0" y2="0.5">
          <stop offset="0%" stop-color="#fff" stop-opacity="01"></stop>
          <stop offset="100%" stop-color="#000" stop-opacity="0"></stop>
        </linearGradient>
      </defs>
      <rect class="hsv-cs-svg-a" x="0" y="0" width="100" height="100" />
      <polygon points="30,90 30,15 75,15" fill="#000" opacity="1" />
      <polygon points="30,90 30,15 75,15" fill="url(#white-lg-red)" />
      <polygon points="30,90 30,15 75,15" fill="url(#white-lg-red-2)" />
      <polygon points="30,90 30,15 75,15" fill="url(#white-lg-black)" />
      <polygon points="30,90 30,15 75,15" fill="url(#white-lg-black-2)" />
      <polygon points="30,90 30,15 75,15" fill="url(#white-lg-white)" />
      <polygon points="30,90 30,15 75,15" fill="none" stroke="#fff" stroke-width="0.3" />
      <text class="hsv-cs-svg-b" x="30" y="13" font-family="sans-serif" font-size="10">S</text>
      <line class="hsv-cs-svg-c" x1="40" y1="10" x2="70" y2="10" stroke-width="1" />
      <polygon class="hsv-cs-svg-b" points="71,10 68,7 68,13" />
      <text class="hsv-cs-svg-b" x="20" y="85" font-family="sans-serif" font-size="10">V</text>
      <line class="hsv-cs-svg-c" x1="23" y1="70" x2="23" y2="20" stroke-width="1" />
      <polygon class="hsv-cs-svg-b" points="23,19 20,22 26,22" />
    </symbol>
    <!-- HSV横から, 断面図 end -->
    <!-- HSV横から, 白色の算出方法説明 begin -->
    <symbol id="hsv-ls-white-svg-src" viewBox="0 0 100 100">
      <rect class="hsv-ls-white-svg-a" x="0" y="0" width="100" height="100" />
      <polyline
        class="hsv-ls-white-svg-b"
        points="30,31 50,60 70,31"
        fill="#f22"
        stroke="#fff"
        stroke-width="2"
        stroke-linecap="round"
      />
      <ellipse class="hsv-ls-white-svg-b" cx="50" cy="30" rx="20" ry="5" fill="#f00" stroke="#fff" stroke-width="2" />
      <ellipse class="hsv-ls-white-svg-b" cx="50" cy="30" rx="40" ry="10" fill="none" stroke-width="1" />
      <polyline
        class="hsv-ls-white-svg-b"
        points="10,31 50,90 90,31"
        fill="none"
        stroke-width="1"
        stroke-linecap="round"
      />
      <line class="hsv-ls-white-svg-b" x1="50" y1="91" x2="95" y2="91" stroke-linecap="round" />
      <polygon class="hsv-ls-white-svg-c" points="95,91 93,89, 93,93" />
      <text class="hsv-ls-white-svg-d" x="90" y="87" font-family="sans-serif" font-size="10">S</text>
      <line class="hsv-ls-white-svg-b" x1="50" y1="91" x2="85" y2="65" stroke-linecap="round" />
      <text class="hsv-ls-white-svg-d" x="68" y="88" font-family="sans-serif" font-size="10">H</text>
      <polygon class="hsv-ls-white-svg-c" points="63,82 61.5,85 65.5,83" />
      <rect class="hsv-ls-white-svg-d" x="63.7" y="88" width="1" height="3" fill="#fff" />
      <line class="hsv-ls-white-svg-b" x1="63.5" y1="84" x2="64" y2="86.5" stroke-width="1" />
      <line class="hsv-ls-white-svg-b" x1="50" y1="91" x2="50" y2="10" stroke-width="1" stroke-linecap="round" />
      <polygon class="hsv-ls-white-svg-c" points="50,10 52,12 48,12" />
      <text class="hsv-ls-white-svg-d" x="38" y="15" font-family="sans-serif" font-size="10">V</text>
    </symbol>
    <!-- HSV横から, 白色の算出方法説明 end -->
  </svg>
  <!-- SVG置き場 end -->

  <body class="body" id="body">
    <div class="all-wrapper">
      <!-- ヘッダー begin -->
      <div class="overlay" id="overlay"></div>
      <header class="header show" id="header">
        <button class="burger" id="burger">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="menu" id="menu">
          <ul class="nav-list">
            <li><a href="https://math-club.net">ホーム</a></li>
            <li>
              <a href="https://math-club.net/pages/contents.html">コンテンツ</a>
            </li>
            <li><a href="https://math-club.net/pages/map.html">地図</a></li>
            <li>
              <button class="settings-button" id="settings-button">more</button>
            </li>
            <ul class="change-settings" id="change-settings">
              <button class="toggle-theme settings" id="toggle-theme">theme</button>
              <button class="toggle-hand settings" id="toggle-hand">mirror</button>
              <button class="toggle-up-arrow settings" id="toggle-up-arrow">upArrow</button>
              <button class="copy-current-url settings" id="copy-current-url">copyUrl</button>
            </ul>
          </ul>
        </nav>
        <script src="./../../scripts/util/hamburger.js?ver=0.1.0" defer></script>
      </header>
      <!-- ヘッダー end -->

      <!-- topに戻る begin -->
      <script src="./../../scripts/util/fetch_svg.js?ver=0.1.0" defer></script>
      <div class="svg"></div>
      <svg class="up-arrow" id="up-arrow">
        <use href="#up-arrow-svg-src"></use>
      </svg>
      <script src="./../../scripts/util/move_top.js?ver=0.1.0" defer></script>
      <!-- topに戻る end -->

      <!-- メイン begin -->
      <div class="main-content">
        <h1>白色</h1>
        <h2>白色</h2>
        <p>
          「白色」と聞いて一般的に思い浮かべるのは何でしょうか？「雲の色」、「消しゴムの色」など人により様々な意見が挙がると思います。<br />
          しかし、同じ単語の「白色」でも微妙に色合いが異なるはずです。タレントの某ミカさんの発言「白って200色あんねん」にあるように、「白色」の中でも更に色を分割できます。この状況に対し、人類は危機を感じるべきです。
        </p>
        <p>
          皆さんは周りにいる友人や家族に話しかける際「ねぇ、人間」と話しかけますか?
          もちろん答えはNo。顔が似ていたとて、相手の名前を呼ぶでしょう。こんなこと許されるはずがありません。「多様性」の時代、平等に扱うのが正しい対応ではないでしょうか?
        </p>
        <p>そこで「白色」に見える色の範囲を決め、ランダムに選ばれた1色に名前を付けて頂きます。</p>

        <h2>RGB</h2>
        <p>色の表し方にはいくつか種類があります。まずは、「RGB」についてです。</p>
        <p>
          RGB(RGBカラーモデル)とは赤-Red、緑-Green、青-Blueの3色をそれぞれ 0 から 255
          の組み合わせて表現します。例えば[255, 255,
          0]の組み合わせだと黄色です。16進数を用いて#ffff00と表現したりもします。
        </p>
        <p>
          以下のツールで確認できます。自由に操作してみてください。0xという接頭語は16進数であることを明示しています。
        </p>
        <div class="rbg-experience">
          <label for="red">赤 <span id="red-value">00</span></label>
          <input type="range" class="red range-visibility" id="red" min="0" max="255" value="0" step="1" />
          <label for="green">緑 <span id="green-value">00</span></label>
          <input type="range" class="green range-visibility" id="green" min="0" max="255" value="0" step="1" />
          <label for="blue">青 <span id="blue-value">00</span></label>
          <input type="range" class="blue range-visibility" id="blue" min="0" max="255" value="0" step="1" />
          <div class="color-preview" id="color-preview-rgb"></div>
        </div>
        <p>光の足し算なので、全て 0 → 黒色 , 全て255 → 白色 です。(厳密には違うかもしれませんがイメージはこれです。)</p>
        <p>
          全ての値を220にすると白色に見えますが、どれか一つの値を255にすると白とは言い難い色になります。これでは定義が難しいのでより直感的に定義できる別の方法を試します。
        </p>
        <h2>HSV</h2>
        <p>
          次はHSV(HSB)色空間についてです。3次元を基にして人間が色を知覚する方法に類似するように作成された考え方です。
        </p>
        <p>
          HSV色空間は円錐の形をしています。1枚目が俯瞰図、2枚目はy軸の断面図、3枚目以降は真上から見た図で、徐々に1枚目をスライスしてます。(1枚目は技術的理由で着色無し)
        </p>
        <div class="hsv-summary-wrapper">
          <svg class="hsv-summary hsv-ls hsv">
            <use href="#hsv-ls-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-cs hsv">
            <use href="#hsv-cs-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-1" href="#hsv-top-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-2" href="#hsv-top-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-3" href="#hsv-top-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-4" href="#hsv-top-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-5" href="#hsv-top-svg-src"></use>
          </svg>
          <svg class="hsv-summary hsv-top hsv">
            <use class="hsv-top-slice-6" href="#hsv-top-svg-src"></use>
          </svg>
        </div>
        <p>
          まず H-色相 S-彩度
          V(B)-明度です。そして、円錐の中に点をとることで色が決まります。この画像のうち1-3枚目を用いながら詳細を説明していきます。n枚目を[n]とします。
        </p>
        <div class="hsv-description">
          <div class="hsv-svg-wrapper">
            <svg class="hsv-ls hsv">
              <use href="#hsv-ls-svg-src"></use>
            </svg>
            <svg class="hsv-top hsv">
              <use href="#hsv-top-svg-src"></use>
            </svg>
            <svg class="hsv-cs hsv">
              <use href="#hsv-cs-svg-src"></use>
            </svg>
          </div>
          <p>
            ([2]のより正確な画像は<a
              href="https://math-club.net/assets/images/hsv-top.webp"
              target="_blank"
              class="click-here"
              >こちら</a
            >)
          </p>
          <h3>H:色相 <i>Hue</i></h3>
          <p>
            0-360°を取り、[2]のように色の種類を表します。Hは角度で, 0°赤, 120°緑,
            240°青です。例えばHが0°(赤)のとき[3]になり、S,Vの値が何に変化しても青や緑など別の色に変わることはありません。但し、白,黒にはなる可能性があります。
          </p>
          <h3>S:彩度 <i>saturation</i></h3>
          <p>
            0-1[0-100%]を取り、色の鮮やかさを表します。この値が大きくなると色が鮮やかになります。[1]で考えたとき、高さ(V)の値が小さくなるほど同じSの値でも中心(V軸)からの距離が短くなります。また、Sが0(点がV軸上)のとき、グレースケール、モノクロと呼ばれたりします。
          </p>
          <h3>V(B):光度 <i>value(brightness)</i></h3>
          <p>
            0-1[0-100%]を取り、色の明るさを表します。[1]に着色したとき頂点は真っ黒、底面の中心は真っ白になります。また、Vが0のとき、Sは必ず0で、Hは0-360の値を取れますが、必ず真っ黒になります。
          </p>
        </div>
        <p>RGB同様、以下のツールで確認できます。自由に操作してみてください。</p>
        <div class="hsv-experience">
          <label for="h-hsv">H <span id="h-hsv-value">0</span></label>
          <input type="range" class="h-hsv range-visibility" id="h-hsv" min="0" max="360" value="0" step="1" />
          <label for="s-hsv">S <span id="s-hsv-value">0</span></label>
          <input type="range" class="s-hsv range-visibility" id="s-hsv" min="0" max="1" value="1" step="0.01" />
          <label for="v-hsv">V <span id="v-hsv-value">0</span></label>
          <input type="range" class="v-hsv range-visibility" id="v-hsv" min="0" max="1" value="1" step="0.01" />
          <div class="color-preview" id="color-preview-hsv"></div>
        </div>
        <p>
          前述のとおり、HSVを使用すると直感的に色を指定できます。「白色」の範囲は以下の赤い部分に注目すると良さそうです。
        </p>
        <svg class="hsv" style="width: calc(min(50%, 300px))">
          <use href="#hsv-ls-white-svg-src"></use>
        </svg>
        <p>
          個人差はあると思いますが、Sが3%以下、Vが90%以上のとき、Hの値に関わらず「白色」とみなせそうです。HSVは使いにくいのでRGBに変換し、その総数を調べたところ
          `9825個` 存在しました。
        </p>
        <div class="gist-wrapper" id="gist-wrapper">
          <button class="gist-button" id="gist-button"><span></span><span></span></button>
          <div class="show-details">詳細を表示</div>
          <div class="gist-details">
            <p>
              HSVをRGBに変換した理由<br />
              RGBは色の重複が無いが、HSVは重複がある。例えば、S:0%,
              V:100%のとき、色はHの値に関わらず#fff(真っ白)となるから。
            </p>
            <p>
              9825個の算出方法<br />
              HSVをRGBに変換し、Rが255の時のG,
              Bの範囲、Rが254の...と繰り返していき、G,Bについても同様に求める。その後重複を除き数えた。<br />
              かなり無理やりですが、ソースは<a
                class="click-here"
                target="_blank"
                href="https://gist.github.com/konattsu/e56eff220bd0a364a0f79ea91b666fc5"
                >ここ</a
              >。
            </p>
          </div>
          <div class="gist-src" id="gist-src"></div>
        </div>

        <h2>白色生成</h2>
        <p>定義した白色の中からランダムで一つ生成します。名前を付けたり、別の白色に変更できたりします。</p>
        <div class="white-wrapper">
          <label class="white-label" for="input-white-name">色の名前(1-10字):</label>
          <input
            type="text"
            id="input-white-name"
            class="input-white-name"
            required
            minlength="1"
            maxlength="10"
            size="21"
            placeholder="ここに入力"
          />
          <button class="generate-white" id="generate-white">別の白色</button>
          <button class="save-img-button"><a id="save-white-img" href="#" download="white.png">画像を保存</a></button>
          <canvas class="white-canvas" id="white-canvas" width="1500" height="500"></canvas>
        </div>

        <p>
          <span style="text-decoration: 2px underline">最後に</span><br />
          HSVにも弱点が存在します。HSV色空間の中で、同じ光度(V)であっても他の色に比べて青色が暗く見えます。人は色相(H)によって明度(V)の感じ方が変わるからです。これを考慮したOKLCH色空間と呼ばれるものが存在します。最大の特徴は
          H(色相) ごとに L(明度), C(彩度) の最大値が異なることです。図を描くのは非常に難しいので、<a
            href="https://oklch.com"
            class="click-here"
            target="_blank"
            >OKLCH Color Picker & Converter</a
          >という外部サイトを参照してみてください。
        </p>
      </div>
      <!-- メイン end -->
    </div>
  </body>
  <script src="./../../scripts/util/grant_color_theme.js?ver=0.1.0" defer></script>
  <script src="./../../scripts/util/fetch_settings.js?ver=0.1.0" defer></script>
  <script src="./../../scripts/each_pages/white/rgb.js?ver=0.1.0" defer></script>
  <script src="./../../scripts/each_pages/white/hsv.js?ver=0.1.0" defer></script>
  <script src="./../../scripts/each_pages/white/gist.js?ver=0.1.0" defer></script>
  <script src="./../../scripts/each_pages/white/white_canvas.js?ver=0.1.0" defer></script>
</html>
